# SonarCloud Configuration for AquaWatch Microservices
# =======================================================
# This file configures SonarCloud analysis for the AquaWatch project.
# 
# Setup Instructions:
# 1. Go to https://sonarcloud.io and sign in with GitHub
# 2. Import your repository
# 3. Create a SONAR_TOKEN secret in your GitHub repository settings
#    (Settings > Secrets and variables > Actions > New repository secret)
# 4. The organization should match your GitHub username/org
#
# Note: Each microservice is analyzed separately with its own project key.

# Main project configuration
sonar.organization=imadissame
sonar.projectKey=iMaDissame_AquaWatch_ArchitectureMS
sonar.projectName=AquaWatch - Water Quality Monitoring Platform

# Source encoding
sonar.sourceEncoding=UTF-8

# Java configuration
sonar.java.source=17

# Multi-module project structure
# Each module has its own sources and test paths
sonar.modules=alert-service,sensor-service,satellite-service,stmodel-service,map-service,discovery-service,gateway-service

# Alert Service
alert-service.sonar.projectName=Alert Service
alert-service.sonar.sources=src/main/java
alert-service.sonar.tests=src/test/java
alert-service.sonar.java.binaries=target/classes
alert-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Sensor Service
sensor-service.sonar.projectName=Sensor Service
sensor-service.sonar.sources=src/main/java
sensor-service.sonar.tests=src/test/java
sensor-service.sonar.java.binaries=target/classes
sensor-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Satellite Service
satellite-service.sonar.projectName=Satellite Service
satellite-service.sonar.sources=src/main/java
satellite-service.sonar.tests=src/test/java
satellite-service.sonar.java.binaries=target/classes
satellite-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# STModel Service
stmodel-service.sonar.projectName=STModel Service
stmodel-service.sonar.sources=src/main/java
stmodel-service.sonar.tests=src/test/java
stmodel-service.sonar.java.binaries=target/classes
stmodel-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Map Service
map-service.sonar.projectName=Map Service
map-service.sonar.sources=src/main/java
map-service.sonar.tests=src/test/java
map-service.sonar.java.binaries=target/classes
map-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Discovery Service
discovery-service.sonar.projectName=Discovery Service
discovery-service.sonar.sources=src/main/java
discovery-service.sonar.tests=src/test/java
discovery-service.sonar.java.binaries=target/classes
discovery-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Gateway Service
gateway-service.sonar.projectName=Gateway Service
gateway-service.sonar.sources=src/main/java
gateway-service.sonar.tests=src/test/java
gateway-service.sonar.java.binaries=target/classes
gateway-service.sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Exclusions - files not to analyze
sonar.exclusions=**/node_modules/**,**/target/**,**/*.min.js,**/*.min.css

# Test exclusions
sonar.test.exclusions=**/test/**

# Coverage exclusions (entities, DTOs, configs typically don't need coverage)
sonar.coverage.exclusions=**/entity/**,**/dto/**,**/config/**,**/*Application.java

# Duplicate code detection
sonar.cpd.exclusions=**/entity/**,**/dto/**
